{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020-08-06-wpf-radiobutton-binding/","result":{"data":{"site":{"siteMetadata":{"title":"LAP-TECH"}},"markdownRemark":{"id":"8885b52e-c02f-5927-a4aa-7a9d9bec3ed0","excerpt":"嘅  比平時麻煩，因為佢淨係得  呢個  可以用到。而正常黎講  係一個   黎，即係我地需要  翻相同數目嘅  比個  Bind． SampleUserControl.xaml SampleUserControlViewModel.cs 數量多就頭很大 當  數量一多嘅時候，相對要 Create…","html":"<p><code class=\"language-text\">RadioButton</code> 嘅 <code class=\"language-text\">Binding</code> 比平時麻煩，因為佢淨係得 <code class=\"language-text\">IsChecked</code> 呢個 <code class=\"language-text\">Property</code> 可以用到。而正常黎講 <code class=\"language-text\">IsChecked</code> 係一個 <code class=\"language-text\">Boolean</code> <code class=\"language-text\">Binding</code> 黎，即係我地需要 <code class=\"language-text\">Create</code> 翻相同數目嘅 <code class=\"language-text\">Boolean</code> 比個 <code class=\"language-text\">RadioButton</code> Bind．</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>RadioButton</span>\n  <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>RadioButton 1<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">IsChecked</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{Binding Path=RadioButton1, Mode=TwoWay}<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>RadioButton</span>\n  <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>RadioButton 2<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">IsChecked</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{Binding Path=RadioButton2, Mode=TwoWay}<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>SampleUserControl.xaml</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">public</span> SampleUserControlViewModel <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">bool</span></span> RadioButton1 <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">bool</span></span> RadioButton2 <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>SampleUserControlViewModel.cs</p>\n<h3>數量多就頭很大</h3>\n<p>當 <code class=\"language-text\">RadioButton</code> 數量一多嘅時候，相對要 Create 嘅 <code class=\"language-text\">Boolean</code> 都會增多。即係 Memory 上都會用多咗，寫起上黎都會麻煩左。</p>\n<p>要解決呢個問題，我地可以用到 <code class=\"language-text\">Enum</code> 同埋 <code class=\"language-text\">Converter</code> 去減小要用到嘅 Variable．</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">public</span> EnumEqualToTrueConverter<span class=\"token punctuation\">:</span> IValueConverter <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">object</span></span> Convert <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">object</span></span> <span class=\"token keyword\">value</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Type</span> targetType<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">object</span></span> parameter<span class=\"token punctuation\">,</span> <span class=\"token class-name\">System<span class=\"token punctuation\">.</span>Globalization<span class=\"token punctuation\">.</span>CultureInfo</span> culture<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">value</span><span class=\"token punctuation\">.</span><span class=\"token function\">Equals</span><span class=\"token punctuation\">(</span>parameter<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n    \n  <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\"><span class=\"token keyword\">object</span></span> ConvertBack <span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token keyword\">object</span></span> <span class=\"token keyword\">value</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Type</span> targetType<span class=\"token punctuation\">,</span> <span class=\"token class-name\"><span class=\"token keyword\">object</span></span> parameter<span class=\"token punctuation\">,</span> <span class=\"token class-name\">System<span class=\"token punctuation\">.</span>Globalization<span class=\"token punctuation\">.</span>CultureInfo</span> culture<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> parameter<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>EnumEqualToTrueConverter.cs</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>RadioButton</span>\n  <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>RadioButton1<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">IsChecked</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{Binding Path=SelectedRadio,\n                      Converter={StaticResource EnumEqualToTrueConverter},\n                      ConverterParameter={x:Static Sample:SampleEnum.RadioButton1},\n                      Mode=TwoWay}<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>RadioButton</span>\n  <span class=\"token attr-name\">Content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>RadioButton2<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">IsChecked</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{Binding Path=SelectedRadio,\n                      Converter={StaticResource EnumEqualToTrueConverter},\n                      ConverterParameter={x:Static Sample:SampleEnum.RadioButton2},\n                      Mode=TwoWay}<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>SampleUserControl.xaml</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">public</span> SampleEnum <span class=\"token punctuation\">{</span>\n  RadioButton1<span class=\"token punctuation\">,</span>\n  RadioButton2\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>SampleUserControlEnum.cs</p>\n<div class=\"gatsby-highlight\" data-language=\"csharp\"><pre class=\"language-csharp\"><code class=\"language-csharp\"><span class=\"token keyword\">public</span> SampleUserControlViewModel <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">public</span> <span class=\"token return-type class-name\">SampleEnum</span> SelectedRadio <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">set</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>SampleUserControlViewModel.cs</p>\n<h3>Converter 來回又折返人間</h3>\n<p><code class=\"language-text\">Converter</code> 有讓神奇用途, 可以 Pass 唔同嘅 <code class=\"language-text\">Value</code> 入去然後 Return 番個唔同既 <code class=\"language-text\">Value</code> 出黎. 當 Binding Mode 設定為 <code class=\"language-text\">TwoWay</code> 嘅時候, 可以 Return 番個 <code class=\"language-text\">Value</code> 比佢 Write 番落去。</p>\n<p>上面嗁做法就係：</p>\n<ol>\n<li>先 Bind 著一個 SelectedRadio, 入面裝著點著左嘅 <code class=\"language-text\">RadioButton</code></li>\n<li>當個 Value 一變佢就會趺入個 Converter 嘅 <code class=\"language-text\">Convert</code> function, 如果係相同之下就會 Return True 比 <code class=\"language-text\">IsChecked</code></li>\n<li>然後佢就會 Call <code class=\"language-text\">ConvertBack</code> 問番你個 True 嘅 SelectedRadio 係咩野</li>\n</ol>\n<p>不過用 Converter 都會有個問題 就係係大量 Function Call 之下就會慢起來了</p>","frontmatter":{"title":"WPF RadioButton Binding 方法","date":"August 06, 2020"}}},"pageContext":{"slug":"/2020-08-06-wpf-radiobutton-binding/","previous":{"fields":{"slug":"/2020-08-03-wpf-richtextbox-hyperlink/"},"frontmatter":{"title":"如何避免 RichTextBox Hyperlink Copy throw exception"}},"next":{"fields":{"slug":"/2020-08-24-wpf-get-path/"},"frontmatter":{"title":"C# 尋路人"}}}}}